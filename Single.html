<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Primary Meta Tags -->
        <title>Gabriela Vallejos - Digital Portfolio 2023</title>
        <meta name="title" content="Gabriela Vallejos - Digital Portfolio 2023" />
        <meta name="description" content="Work of Gabriela Vallejos, an Integrated Design Student from Chile, focused on creating human-centric and systematic solutions through Product, Service, and System Design." />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://gabrielavallejos.cl/" />
        <meta property="og:title" content="Gabriela Vallejos - Digital Portfolio 2023" />
        <meta property="og:description" content="Work of Gabriela Vallejos, an Integrated Design Student from Chile, focused on creating human-centric and systematic solutions through Product, Service, and System Design." />
        <meta property="og:image" content="https://metatags.io/images/meta-tags.png" />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content="https://gabrielavallejos.cl/" />
        <meta property="twitter:title" content="Gabriela Vallejos - Digital Portfolio 2023" />
        <meta property="twitter:description" content="Work of Gabriela Vallejos, an Integrated Design Student from Chile, focused on creating human-centric and systematic solutions through Product, Service, and System Design." />
        <meta property="twitter:image" content="https://metatags.io/images/meta-tags.png" />

        <!-- Meta Tags Generated with https://metatags.io -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Archivo:wdth,wght@100,900;125,500&family=Space+Grotesk:wght@300;400;700&display=swap" rel="stylesheet">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
        <style>
            section {
                scroll-margin-top: 50px;

            }
            nav {
                backdrop-filter: blur(0.5rem);
                background-color: #212529;
            }
            #foto {
                background: transparent url("https://picsum.photos/id/353/800/450?blur=8") 0 0 no-repeat;
                background-size: cover;
            }
            h1 {
                font-family: 'Archivo';
                font-variation-settings: "wght" 500, "wdth" 125;
            }
            h2 {
                font-family: 'Archivo';
                font-variation-settings: "wght" 500, "wdth" 125;
            }
            h6 {
                font-family: 'Archivo';
                font-variation-settings: "wght" 500, "wdth" 125;
                margin-top: 0;
                margin-bottom: 0;
            }
            body {
                font-family: 'Space Grotesk'; 
            }
        </style>
        <title>GABRIELA VALLEJOS</title>
    </head>
    <body>
        <!--Barra de navegación fija al tope-->
        <nav class="navbar fixed-top navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand text-white fw-bold" href="index.html"><h6>GABRIELA VALLEJOS</h6></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav ms-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="About.html">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="#lasEspecialidades">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="#losTrabajos">Projects</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="Contact.html">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
                <!--Sección sin identidad-->
        <section>
            <div class="container my-5 pt-5">
                <div class="row row-cols-lg-2 pb-5 g-5" id="trabajos"></div>
            </div>
        </section>
        <!--Complemento lateral-->
        <aside>
            <div class="container pb-4">
                <div class="row">
                    <div class="col-6" id="back"></div>
                    <div class="col-6 text-end" id="next"></div>
                </div>
            </div>
        </aside>

		<!-- El pie de página-->
		<div class="container">
		  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
		    <div class="col-md-4 d-flex align-items-center">
		     
		      <span class="text-muted">&copy; 2023 Gabriela Vallejos</span>
		    </div>

		    <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
		      <li class="ms-3"><a class="text-muted" href="Linkedin"><svg class="bi" width="24" height="24" fill="#7E7E7E"><use xlink:href="#Linkedin"/></svg></a></li>
		      <li class="ms-3"><a class="text-muted" href="Behance"><svg class="bi" width="24" height="24" fill="#7E7E7E"><use xlink:href="#Behance"/></svg></a></li>
		      <li class="ms-3"><a class="text-muted" href="instagram"><svg class="bi" width="24" height="24" fill="#7E7E7E"><use xlink:href="#instagram"/></svg></a></li>
		    
		    </ul>
		  </footer>
		</div>






		<!-- Lo que sigue es JavaScript a secas-->
<script>
    //Tomo el dato que trae ?nro=
    var n = new URLSearchParams(window.location.search).get("nro");
    //Lo que trae ?nro= será tratado siempre como número
    n = Number(n);
    //crearé una función asincrónica
    async function portfolio() {
        const consulta = await fetch("https://raw.githubusercontent.com/GabiVallejosB/gabrielavallejos.cl/main/datos.json");
        const data = await consulta.json();
        const cuantos = data.length;
        //Como n es siempre número: Ya no tengo posibilidad de null
        document.querySelector("#trabajos").innerHTML = `<div class="col"><h1 class="fs-1">${data[n].nombre}</h1><p>${data[n].texto}</p><small>#${data[n].soporte}</small></div>`;
        // Un forEach para cada foto del trabajo
        data[n].fotos.forEach((x, index) => {
            // Assuming there's an "altText" property in your JSON for alt text
            const altText = data[n].altTexts ? data[n].altTexts[index] : ''; 

            document.querySelector("#trabajos").innerHTML += `<div class="col"><img src="${x}" width="500" height="310" alt="${altText}" class="rounded shadow-sm"></div>`;
        });

        //Necesito una condición para pasar a trabajo anterior o siguiente si lo hubiera
        if (n < 1) {
            document.querySelector("#next").innerHTML = `<a href="single.html?nro=${n + 1}" class="btn btn-sm btn-outline-secondary">siguiente &rarr;</a>`;
        } else if (n > 0 && n < cuantos - 1) {
            document.querySelector("#back").innerHTML = `<a href="single.html?nro=${n - 1}" class="btn btn-sm btn-outline-secondary">&larr; anterior</a>`;
            document.querySelector("#next").innerHTML = `<a href="single.html?nro=${n + 1}" class="btn btn-sm btn-outline-secondary">siguiente &rarr;</a>`;
        } else {
            document.querySelector("#back").innerHTML = `<a href="single.html?nro=${n - 1}" class="btn btn-sm btn-outline-secondary">&larr; anterior</a>`;
        }
    } //ahora cierro la creación de la función asincrónica
    portfolio().catch((error) => console.error(error));
</script>

        <!-- Lo que sigue es la biblioteca de Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>